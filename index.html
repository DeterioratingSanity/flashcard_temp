<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta description="Template for flashcard ideas.">

    <title>flash.card</title>

    <link rel="stylesheet" href="https://unpkg.com/flickity@2/dist/flickity.min.css">
    <link rel="stylesheet" href="style.css" type="text/css">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
    <script src="https://unpkg.com/flickity@2/dist/flickity.pkgd.min.js"></script>
  </head>

  <body>
    <div id="popMenu" class="inactive" style="text-align: center;">

      <h1 style="color: white; text-shadow: 2px 2px dodgerblue; margin-top: 5vh"><span style="color: dodgerblue; text-shadow: 2px 2px white">flash</span>.card</h1>

      <div>
        <input id="topicSel" list="topics" style="margin: 5vh 0; width: 60%; height: 3.5em; padding: 0 8px; border-radius: 8px" placeholder="Topic">
        <datalist id="topics">
          <option>Latin 1001</option>
          <option>Classics 1000</option>
        </datalsit>
      </div>

      <hr style="width: 65%; margin: auto">

      <div>
        <input id="setSel" list="sets" style="margin-top: 5vh; width: 60%; height: 3.5em; padding: 0 8px; border-radius: 8px" placeholder="Chapter">
        <datalist id="sets">
          <!-- <option>Chapter 1</option> <option>Chapter 2</option> -->
        </datalsit>
      </div>

    </div>
      <br>
    <div id="popToggle" class="inactive">☰</div>

    <div class="main-carousel" data-flickity='{ "cellAlign": "left", "contain": true}'> <!--  , "wrapAround": true  -->

    </div>
    <div class="init-card">
        <h1>Select topic and chapter to begin.</h1>
    </div>

    <script>
          var menu = $("#popMenu");
          var toggle = $("#popToggle");

          toggle.on("click", function() {
            $("#popMenu").toggleClass("inactive active");
            $("#popToggle").toggleClass("inactive active");
          });


          // Latin

          const termSetOne_topicOne = ["me, myself", "what", "nothing", "not", "often", "if", "to love", "to think", "to owe, to ought to", "to give, to offer", "to make a mistake, err, or go astray", "to praise", "to remind, warn, or advise", "to be well, to be in good health", "to preserve, to save, keep, or guard", "to preserve, to conserve, maintain", "to frighten, to terrify", "to have power, to be well", "to see, to observe, understand", "to call, to summon"];
          const defnSetOne_topicOne = ["mē", "quid", "nihil", "nōn", "saepe", "sī", "amō, amāre, amāvi, amātum", "cōgitō, cōgitāre, cōgitāvī, cōgitātum", "dēbeō, dēbēre, dēbuī, dēbitum", "dō, dare, dedī, datum", "errō, errāre, errāvī, errātum", "laudō, laudāre, laudāvī, laudātum", "moneō, monēre, monuī, monitum", "salveō, salvēre", "servō, servāre, servāvī, servātum", "cōnservō, cōnservāre, cōnservāvī, cōnservātum", "terreō, terrēre, terruī, territum", "valeō, valēre, valuī, valitūrum", "videō, vidēre, vīdī, vīsum", "vocō, vocāre, vocāvī, vocātum"];

          const termSetTwo_topicOne = ["fame", "form, shape, beauty", "fortune, luck", "ire, anger", "sailor", "fatherland, native land, (one's) country", "money", "philosophy", "penalty, punishment", "to pay the price", "poet", "gate, entrance", "girl", "rose", "feeling, thought, opinion, vote, sentence", "life, mode of life", "ancient, old-time", "large, great, important", "my", "much, many", "your (s.)", "and, even", "but", "oh!", "without (+ ablative)", "is"];
          const defnSetTwo_topicOne = ["fāma, fāmae (f.)", "fōrma, fōrmae (f.)", "fortūna, fortūnae (f.)", "īra, īrae (f.)", "nauta, nautae (m.)", "patria, patriae (f.)", "pecūnia, pecūniae (f.)", "philosophia, philosophiae (f.)", "poena, poenae (f.)", "poenās dare", "poēta, poētae (m.)", "porta, portae (f.)", "puella, puellae (f.)", "rosa, rosae (f.)", "sententia, sententiae (f.)", "vīta, vītae (f.)", "antīqu(-us/-a/-um)", "magn(-us/-a/-um)", "me(-us/-a/-um)", "mult(-us/-a/-um)", "tu(-us/-a/-um)", "et", "sed", "ō!", "sine (+ ablative)", "est"];

          const termSetThree_topicOne = ["field, farm", "farmer", "friend", "woman", "daughter", "son", "number", "the people, a people, a nation", "a boy, boys, children", "wisdom", "man, hero", "greedy, avaricious", "few, a few", "Roman", "down from, from; concerning/about", "on", "today", "always", "to have, hold, possess, consider, or regard", "to satisfy, sate"];
          const defnSetThree_topicOne = ["ager, agrī, m.", "agricola, agricolae, m.", "amīcus, amīcī, m.; amīca, amīcae, f.", "fēmina, fēminae, f.", "fīlia, fīliae; dat./ab. pl. fīliabus", "fīlius, fīliī", "numerus, numerī, m.", "populus, populī, m.", "puer, puerī, m.", "sapientia, sapientiae, f.", "vir, virī", "avār(-us/-a/-um)", "pauc(-ī/-ae/a); all pl.", "Rōmānus, Rōmāna, Rōmānum", "dē + abl.", "in + abl.", "hodiē", "semper", "habeō, habēre, habui, habitum", "satiō, satiāre, satiāvī, satiātum"];

          const termSetFour_topicOne = [];
          const defnSetFour_topicOne = [];

          const termLists_topicOne = [termSetOne_topicOne, termSetTwo_topicOne, termSetThree_topicOne];
          const defnLists_topicOne = [defnSetOne_topicOne, defnSetTwo_topicOne, defnSetThree_topicOne];

          const topOneDefs = ["Chapter 1", "Chapter 2", "Chapter 3"];

          const termSetOne_topicTwo = ["Topic 2 Chapter 1 Term 1", "Topic 2 Chapter 1 Term 2", "Topic 2 Chapter 1 Term 3"];
          const defnSetOne_topicTwo = ["Definition 1", "Definition 2", "Definition 3"];

          const termSetTwo_topicTwo = ["Topic 2 Chapter 2 Term 1", "Topic 2 Chapter 2 Term 2", "Topic 2 Chapter 2 Term 3"];
          const defnSetTwo_topicTwo = ["Definition 1", "Definition 2", "Definition 3"];

          const termLists_topicTwo = [termSetOne_topicTwo, termSetTwo_topicTwo];
          const defnLists_topicTwo = [defnSetOne_topicTwo, defnSetTwo_topicTwo];

          const topTwoDefs = ["TBD"];

          const chptTermLists = [termLists_topicOne, termLists_topicTwo];
          const chptDefnLists = [defnLists_topicOne, defnLists_topicTwo]

          const topicDefs = ["Latin 1001", "Classics 1000"];
          const setDefs = [topOneDefs,topTwoDefs];

          var setSel = [];
          var chapSel = [];
          var defnSel = [];

          $("#topicSel").on("change", function(){
            //console.log(this.value);
            //console.log(topicDefs.indexOf(this.value));

            let temp = topicDefs.indexOf(this.value);
            if(temp != -1){
              chapSel = chptTermLists[topicDefs.indexOf(this.value)];
              defnSel = chptDefnLists[topicDefs.indexOf(this.value)];
              //console.log(chapSel); // would be termLists
              //console.log(defnSel);
              // populate either selection boxes or another dropdown with these values for termList

              setSel = setDefs[temp];
              //console.log(setSel);
              $("#sets").html(""); //clear old inputs thereto

              for(let i = 0; i < setSel.length; i++){
                $('#sets').append($('<option>', {text: setSel[i]}));
              }
            }
          });

          $("#setSel").on("change", function(){

            let temp = setSel.indexOf(this.value);
            if (temp != -1){
              //console.log(setSel[temp]);
              //console.log(chapSel[temp]); // terms for the selected set
              //console.log(defnSel[temp]);

              var termList = [];
              termList = chapSel[temp];
              var defnList = [];
              defnList = defnSel[temp];

              var terms = termList.length;
              var randArray = [];

              while(randArray.length < terms){
                let temp = Math.floor(Math.random()*terms);

                if (randArray.indexOf(temp) != -1){
                  temp = Math.floor(Math.random()*terms);
                } else {
                  randArray.push(temp);
                }
              }

              for(let i = 0; i < $(".carousel-cell").length; i++){
                //console.log("e");
                $('.main-carousel').flickity('remove', $(".carousel-cell") ); //clears old cards
              }
              for(let i = 0; i < terms; i++){
                let $cellElem = $("<div class='carousel-cell'><div class='flip-card'><div class='flip-card-inner'><div class='flip-card-front'><h1 class='cardfront'></h1></div><div class='flip-card-back'><p class='cardback'></p></div></div></div></div>");
                $('.main-carousel').flickity('append', $cellElem );
              }

              let cardfront = document.getElementsByClassName('cardfront');
              for (let i = 0; i < cardfront.length; i++){
                cardfront[i].innerHTML = termList[randArray[i]];
              }

              let cardback = document.getElementsByClassName('cardback');
              for (let i = 0; i < cardback.length; i++){
                cardback[i].innerHTML = defnList[randArray[i]];
              }

              $(".init-card").addClass("dis");
              $('.main-carousel').flickity( 'select', 0 );
            }
          });

          $('input:text').focus(
              function(){
              $(this).val('');
          });

          $(document).ready(function(){
/*
            var topic = prompt("Enter desired topic set \n 1. Latin 1001 \n 2. Classics 1000 ");

            var termLists = [];
            var defnLists = [];

            termLists = chptTermLists[topic - 1];
            defnLists = chptDefnLists[topic - 1];

            var set = prompt("Enter desired term set \n 1. Chapter 1 Vocab. \n 2. Chapter 2 Vocab.");

            var termList = [];
            var defnList = [];

            var ord = prompt("Would you like to study the term or the definition? \n 1. Term \n 2. Definition");

            if (ord == 1){
              termList = termLists[set-1];
              defnList = defnLists[set-1];
            } else if (ord == 2){
              termList = defnLists[set-1];
              defnList = termLists[set-1];
            }

            var terms = termList.length;
            var randArray = [];

            while(randArray.length < terms){
              var temp = Math.floor(Math.random()*terms);

              if (randArray.indexOf(temp) != -1){
                temp = Math.floor(Math.random()*terms);
              } else {
                randArray.push(temp);
              }
            }

            //console.log(randArray);

    //        var cardArray = [];
    //        for(let i = 0; i < terms; i++){
    //          cardArray.push("cardfront_" + i);
    //        }
    //        console.log(cardArray);

    //        for(let i = 0; i < terms; i++){
    //          //$(cardArray[i]).text(termList[randArray[i]]);
    //          cardArray[i].innerHTML += "termList[randArray[i]]";
    //          console.log(cardArray[i] + " is set to " + termList[randArray[i]]);
    //        }

            for(let i = 0; i < terms; i++){
              let $cellElem = $("<div class='carousel-cell'><div class='flip-card'><div class='flip-card-inner'><div class='flip-card-front'><h1 class='cardfront'></h1></div><div class='flip-card-back'><p class='cardback'></p></div></div></div></div>");
              $('.main-carousel').flickity('append', $cellElem );
            }

            let cardfront = document.getElementsByClassName('cardfront');
            for (let i = 0; i < cardfront.length; i++){
              cardfront[i].innerHTML = termList[randArray[i]];
            }

            let cardback = document.getElementsByClassName('cardback');
            for (let i = 0; i < cardback.length; i++){
              cardback[i].innerHTML = defnList[randArray[i]];
            }
            //solution c. 'https://stackoverflow.com/questions/62235124/how-to-assign-the-innerhtml-of-array-elements-to-the-values-in-another-array'
      */    });
      </script>
  </body>
</html>
